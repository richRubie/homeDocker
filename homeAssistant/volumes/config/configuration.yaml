http:
 server_port: 2053
 ssl_certificate: ssl/fullchain.pem
 ssl_key: ssl/privkey.pem

# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Text to speech
tts:
  - platform: google_translate

google_assistant:
  report_state: true
  project_id: home-assistant2-bfff8
  service_account: !include google-assistant.json

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

mqtt:
  discovery: true
  broker: 'mqtt://localhost'
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status'
    payload: 'offline'

input_select:
  switch_bread_maker_status:
    name: Bread Maker Status
    options:
      - Idle
      - Running
      - Finishing
      - Offline
    initial: Idle

sensor:
  - platform: template
    sensors:
      switch_bread_maker_amps:
        friendly_name_template: "{{ states.switch.bread_maker.name}} Current"
        value_template: '{{ states.switch.bread_maker.attributes["current_a"] | float }}'
        unit_of_measurement: 'A'
      switch_bread_maker_watts:
        friendly_name_template: "{{ states.switch.bread_maker.name}} Current Consumption"
        value_template: '{{ states.switch.bread_maker.attributes["current_power_w"] | float }}'
        unit_of_measurement: 'W'
      switch_bread_maker_total_kwh:
        friendly_name_template: "{{ states.switch.bread_maker.name}} Total Consumption"
        value_template: '{{ states.switch.bread_maker.attributes["total_energy_kwh"] | float }}'
        unit_of_measurement: 'kWh'
      switch_bread_maker_volts:
        friendly_name_template: "{{ states.switch.bread_maker.name}} Voltage"
        value_template: '{{ states.switch.bread_maker.attributes["voltage"] | float }}'
        unit_of_measurement: 'V'
      switch_bread_maker_today_kwh:
        friendly_name_template: "{{ states.switch.bread_maker.name}} Today's Consumption"
        value_template: '{{ states.switch.bread_maker.attributes["today_energy_kwh"] | float }}'
        unit_of_measurement: 'kWh'